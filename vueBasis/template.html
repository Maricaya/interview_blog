<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue 模板到真实 DOM 渲染的过程 | blog</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="系统性学习，打造完善的知识体系">
    
    <link rel="preload" href="/interview_blog/assets/css/0.styles.81bffcaa.css" as="style"><link rel="preload" href="/interview_blog/assets/js/app.6e789ca6.js" as="script"><link rel="preload" href="/interview_blog/assets/js/2.aedcd1eb.js" as="script"><link rel="preload" href="/interview_blog/assets/js/43.f08935e7.js" as="script"><link rel="prefetch" href="/interview_blog/assets/js/10.235d3cd2.js"><link rel="prefetch" href="/interview_blog/assets/js/11.64c88d1d.js"><link rel="prefetch" href="/interview_blog/assets/js/12.389e02a9.js"><link rel="prefetch" href="/interview_blog/assets/js/13.5fd0b99f.js"><link rel="prefetch" href="/interview_blog/assets/js/14.addbf244.js"><link rel="prefetch" href="/interview_blog/assets/js/15.aaa172ef.js"><link rel="prefetch" href="/interview_blog/assets/js/16.efde6c27.js"><link rel="prefetch" href="/interview_blog/assets/js/17.efe499ad.js"><link rel="prefetch" href="/interview_blog/assets/js/18.b43e2679.js"><link rel="prefetch" href="/interview_blog/assets/js/19.1e7d1f1d.js"><link rel="prefetch" href="/interview_blog/assets/js/20.61100763.js"><link rel="prefetch" href="/interview_blog/assets/js/21.77d90c63.js"><link rel="prefetch" href="/interview_blog/assets/js/22.f398ec5f.js"><link rel="prefetch" href="/interview_blog/assets/js/23.a0ed082a.js"><link rel="prefetch" href="/interview_blog/assets/js/24.a5e14725.js"><link rel="prefetch" href="/interview_blog/assets/js/25.dbe614ed.js"><link rel="prefetch" href="/interview_blog/assets/js/26.f2947465.js"><link rel="prefetch" href="/interview_blog/assets/js/27.ccd771c7.js"><link rel="prefetch" href="/interview_blog/assets/js/28.78bc3610.js"><link rel="prefetch" href="/interview_blog/assets/js/29.ad03d3fc.js"><link rel="prefetch" href="/interview_blog/assets/js/3.b709dd0d.js"><link rel="prefetch" href="/interview_blog/assets/js/30.12e12cb8.js"><link rel="prefetch" href="/interview_blog/assets/js/31.63b1cf5c.js"><link rel="prefetch" href="/interview_blog/assets/js/32.10ace32c.js"><link rel="prefetch" href="/interview_blog/assets/js/33.14d149d9.js"><link rel="prefetch" href="/interview_blog/assets/js/34.b8c73cce.js"><link rel="prefetch" href="/interview_blog/assets/js/35.3e8d4f21.js"><link rel="prefetch" href="/interview_blog/assets/js/36.ed8a1bb7.js"><link rel="prefetch" href="/interview_blog/assets/js/37.ce354d46.js"><link rel="prefetch" href="/interview_blog/assets/js/38.37bcf5ce.js"><link rel="prefetch" href="/interview_blog/assets/js/39.d4956b62.js"><link rel="prefetch" href="/interview_blog/assets/js/4.87406268.js"><link rel="prefetch" href="/interview_blog/assets/js/40.f0ecd4dc.js"><link rel="prefetch" href="/interview_blog/assets/js/41.01c18d9c.js"><link rel="prefetch" href="/interview_blog/assets/js/42.f229993f.js"><link rel="prefetch" href="/interview_blog/assets/js/44.d134aed1.js"><link rel="prefetch" href="/interview_blog/assets/js/45.dbda6222.js"><link rel="prefetch" href="/interview_blog/assets/js/46.661000b0.js"><link rel="prefetch" href="/interview_blog/assets/js/47.12709f91.js"><link rel="prefetch" href="/interview_blog/assets/js/48.d8e794b9.js"><link rel="prefetch" href="/interview_blog/assets/js/5.c38690e3.js"><link rel="prefetch" href="/interview_blog/assets/js/6.f9104e5b.js"><link rel="prefetch" href="/interview_blog/assets/js/7.397ab168.js"><link rel="prefetch" href="/interview_blog/assets/js/8.3afdacb3.js"><link rel="prefetch" href="/interview_blog/assets/js/9.a12c6f31.js">
    <link rel="stylesheet" href="/interview_blog/assets/css/0.styles.81bffcaa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/interview_blog/" class="home-link router-link-active"><!----> <span class="site-name">blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/interview_blog/" class="nav-link">
  文章目录
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/interview_blog/" class="nav-link">
  文章目录
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/interview_blog/" aria-current="page" class="sidebar-link">JavaScript</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue3 UI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS 基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ajax &amp; jsonp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>http</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器原理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>函数式编程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview_blog/vueBasis/template.html" aria-current="page" class="active sidebar-link">vue 模板到真实 DOM 渲染的过程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview_blog/vueBasis/template.html#从-template-开始" class="sidebar-link">从 template 开始</a></li><li class="sidebar-sub-header"><a href="/interview_blog/vueBasis/template.html#编译" class="sidebar-link">编译</a></li><li class="sidebar-sub-header"><a href="/interview_blog/vueBasis/template.html#tree-diff" class="sidebar-link">Tree diff</a></li><li class="sidebar-sub-header"><a href="/interview_blog/vueBasis/template.html#component-diff" class="sidebar-link">Component diff</a></li><li class="sidebar-sub-header"><a href="/interview_blog/vueBasis/template.html#element-diff" class="sidebar-link">Element diff</a></li><li class="sidebar-sub-header"><a href="/interview_blog/vueBasis/template.html#dom-操作慢-虚拟-dom-快" class="sidebar-link">DOM 操作慢？虚拟 DOM 快</a></li><li class="sidebar-sub-header"><a href="/interview_blog/vueBasis/template.html#为什么会有这样的谣言" class="sidebar-link">为什么会有这样的谣言？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview_blog/vueBasis/template.html#减少-dom-操作" class="sidebar-link">减少 DOM 操作</a></li><li class="sidebar-sub-header"><a href="/interview_blog/vueBasis/template.html#跨平台" class="sidebar-link">跨平台</a></li></ul></li><li class="sidebar-sub-header"><a href="/interview_blog/vueBasis/template.html#vue3-优化" class="sidebar-link">vue3 优化</a></li><li class="sidebar-sub-header"><a href="/interview_blog/vueBasis/template.html#手写-template" class="sidebar-link">手写 template</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview_blog/vueBasis/template.html#手写-createelement-函数-待确认" class="sidebar-link">手写 createElement 函数（待确认）</a></li></ul></li></ul></li><li><a href="/interview_blog/vueBasis/model.html" class="sidebar-link">双向数据绑定原理</a></li><li><a href="/interview_blog/vueBasis/router.html" class="sidebar-link">前端路由</a></li><li><a href="/interview_blog/vueBasis/asyncComponent.html" class="sidebar-link">/vueBasis/asyncComponent.html</a></li><li><a href="/interview_blog/vueBasis/nextTick.html" class="sidebar-link">NextTick</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SSR</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-模板到真实-dom-渲染的过程"><a href="#vue-模板到真实-dom-渲染的过程" class="header-anchor">#</a> vue 模板到真实 DOM 渲染的过程</h1> <p>https://juejin.im/post/6844903940786487309#heading-8</p> <h2 id="从-template-开始"><a href="#从-template-开始" class="header-anchor">#</a> 从 template 开始</h2> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  {{ message }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>相当于我们编写如下 render 函数：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">render</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">createElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
     attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">'app'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="编译"><a href="#编译" class="header-anchor">#</a> 编译</h2> <p>中间有一个环节是把模板编译成 render 函数，这个过程我们把它称作编译。
编译过程首先就是对模板做解析，生成 AST</p> <h4 id="parse"><a href="#parse" class="header-anchor">#</a> parse：</h4> <p>目标是把 template 模板字符串转换成 AST 树，它是一种用 JavaScript 对象的形式来描述整个模板。</p> <p>AST 元素节点总共有 3 种类型，
普通元素、表达式、纯文本。</p> <p>当 AST 树构造完毕，下一步就是 optimize 优化这颗树。</p> <h4 id="optimize"><a href="#optimize" class="header-anchor">#</a> optimize：</h4> <p>为什么要有优化过程，因为我们知道 Vue 是数据驱动，是响应式的，
但是我们的模板并不是所有数据都是响应式的，也有很多数据是首次渲染后就永远不会变化的，
那么这部分数据生成的 DOM 也不会变化，我们可以在 patch 的过程跳过对他们的比对。</p> <h4 id="codegen"><a href="#codegen" class="header-anchor">#</a> codegen：</h4> <p>编译的最后一步就是把优化后的 AST 树转换成可执行的代码
render</p> <h4 id="vnode"><a href="#vnode" class="header-anchor">#</a> VNode</h4> <p>最终是通过执行 createElement 方法并返回 vNode，它是一个虚拟 Node。</p> <p>Vue 2.0 相比 Vue 1.0 最大的升级就是利用了 Virtual DOM。因此在分析 createElement 的实现前，我们先了解一下 Virtual DOM 的概念。</p> <p>所谓渲染器，简单地说就是将 Virtual DOM 渲染成特定平台下真实 DOM 的工具(就是一个函数，通常叫 render)，渲染器的工作流程分为两个阶段：mount 和 patch，如果旧的 VNode 存在，则会使用新的 VNode 与旧的 VNode 进行对比，试图以最小地资源开销完成 DOM 的更新，这个过程就叫 patch，或“打补丁”。如果旧的 VNode 不存在，则直接将新的 VNode 挂载成全新的 DOM，这个过程叫做 mount。</p> <p>Virtual DOM 除了它的数据结构的定义，
映射到真实的 DOM 实际上要经历 VNode 的 create、diff、patch 等过程。</p> <p>patch：VNode
html/svg 标签，组件，纯文本，Fragment，PORTAL
组件、普通标签（检查 vnode.tag), 纯文本节点</p> <p>把 VNode 渲染成真实的 DOM</p> <ul><li><p>初次调用渲染器渲染某个 VNode 时：
由于没有旧的 VNode 存在，所以会调用 mount 函数挂载全新的 VNode ，
这个小节我们就探讨一下渲染器的 mount 函数是如何把 VNode 渲染成真实 DOM 的，以及其中一些核心的关键点。</p></li> <li><p>patch dom diff</p></li></ul> <h1 id="dom-diff-可能的大概逻辑"><a href="#dom-diff-可能的大概逻辑" class="header-anchor">#</a> DOM diff 可能的大概逻辑</h1> <h2 id="tree-diff"><a href="#tree-diff" class="header-anchor">#</a> Tree diff</h2> <ul><li>将新旧两棵树逐层对比，找出哪些节点需要更</li> <li>如果节点是组件就看 Component diff</li> <li>如果节点是标签就看 Element diff</li></ul> <h2 id="component-diff"><a href="#component-diff" class="header-anchor">#</a> Component diff</h2> <ul><li>如果节点是组件，就先看组件类型</li> <li>类型不同直接替换（删除旧的）</li> <li>类型相同则只更新属性</li> <li>然后深入组件做 Tree diff（递归）</li></ul> <h2 id="element-diff"><a href="#element-diff" class="header-anchor">#</a> Element diff</h2> <ul><li>如果节点是原生标签，则看标签名</li> <li>标签名不同直接替换，相同则只更新属性</li> <li>然后进入标签后代做 Tree diff（递归）</li></ul> <h1 id="dom-diff-的缺点"><a href="#dom-diff-的缺点" class="header-anchor">#</a> DOM diff 的缺点</h1> <ul><li>同级节点对比存在 bug
会出现识别错误的问题</li></ul> <p>https://www.zhihu.com/question/61064119/answer/766607894?utm_source=wechat_session&amp;utm_medium=social&amp;s_r=0</p> <p>原因：
默认拿 index 作 key</p> <h1 id="关于-dom-的谣言"><a href="#关于-dom-的谣言" class="header-anchor">#</a> 关于 DOM 的谣言</h1> <h2 id="dom-操作慢-虚拟-dom-快"><a href="#dom-操作慢-虚拟-dom-快" class="header-anchor">#</a> DOM 操作慢？虚拟 DOM 快</h2> <p>起源：2010 年出版的「高性能 JavaScript」
这本书里有一个观点，DOM 操作很慢，但是它没有给出任何数据，也没有对比。</p> <p>这句话类似于：刘翔矮（对比与姚明）</p> <p>实际上，DOM 操作只是比 JS 原生 API 操作（比如数组操作）慢。</p> <p>任何基于 DOM 的库（vue、react）都不可能在操作 dom 时比 dom 快</p> <h2 id="为什么会有这样的谣言"><a href="#为什么会有这样的谣言" class="header-anchor">#</a> 为什么会有这样的谣言？</h2> <p>因为在某些情况下，虚拟 DOM 快。</p> <h3 id="减少-dom-操作"><a href="#减少-dom-操作" class="header-anchor">#</a> 减少 DOM 操作</h3> <ul><li><p>减少 DOM 操作的次数
虚拟 DOM 可以将多次操作合并为一次操作。
比如你添加 1000 个 div，是一个一个添加的。
虚拟 DOM 会优化为一次添加 1000 个。</p></li> <li><p>减少 DOM 操作的范围
虚拟 DOM 借助 DOM diff 可以把多余地操作省掉。
比如你添加了 1000 个节点，其中 990 个是原有节点，只有 10 个是新增的。
虚拟 DOM 只会添加 10 个。</p></li></ul> <h3 id="跨平台"><a href="#跨平台" class="header-anchor">#</a> 跨平台</h3> <p>虚拟 DOM 不仅可以变成 DOM，还可以变成小程序、ios 应用、Android 应用。
因为虚拟 DOM 本质上只是一个 js 对象。</p> <h2 id="vue3-优化"><a href="#vue3-优化" class="header-anchor">#</a> vue3 优化</h2> <p>vue3的优化：https://zhuanlan.zhihu.com/p/150732926
1、跳过静态内容，只对比动态内容。
2、vue3
vdom 新增字段 PatchFlags，记录哪些是动态节点，以及为什么它是动态的</p> <h2 id="手写-template"><a href="#手写-template" class="header-anchor">#</a> 手写 template</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">template<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\{\{(\w+)\}\}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span> <span class="token comment">// 模板字符串正则</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 判断模板里是否有模板字符串</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 查找当前模板里第一个模板字符串的字段</span>
    template <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> data<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将第一个模板字符串渲染</span>
    <span class="token keyword">return</span> <span class="token function">render</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 递归的渲染并返回渲染后的结构</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> template<span class="token punctuation">;</span> <span class="token comment">// 如果模板没有模板字符串直接返回</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> template <span class="token operator">=</span> <span class="token string">'我是{{name}}，年龄{{age}}，性别{{sex}}'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">render</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 我是姓名，年龄18，性别undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="手写-createelement-函数-待确认"><a href="#手写-createelement-函数-待确认" class="header-anchor">#</a> 手写 createElement 函数（待确认）</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> config<span class="token punctuation">,</span> children</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> propName <span class="token keyword">in</span> config<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果对象本身存在该属性值，就copy</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> propName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      props<span class="token punctuation">[</span>propName<span class="token punctuation">]</span> <span class="token operator">=</span> config<span class="token punctuation">[</span>propName<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  props<span class="token punctuation">.</span>children <span class="token operator">=</span> children
  <span class="token keyword">return</span> props
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  createElement<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/4/2020, 5:59:47 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/interview_blog/functional/currify.html" class="prev">
        柯里化
      </a></span> <span class="next"><a href="/interview_blog/vueBasis/model.html">
        双向数据绑定原理
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/interview_blog/assets/js/app.6e789ca6.js" defer></script><script src="/interview_blog/assets/js/2.aedcd1eb.js" defer></script><script src="/interview_blog/assets/js/43.f08935e7.js" defer></script>
  </body>
</html>
